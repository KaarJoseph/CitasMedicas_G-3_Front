<div>
    <h2>Perfiles de Acceso</h2>
    <button (click)="iniciarCreacionPerfilAcceso()">Nuevo Perfil de Acceso</button>
    <ul>
        <li *ngFor="let perfil of perfilesdeacceso" (click)="seleccionarPerfilAcceso(perfil)">
            {{ perfil.perf_acc_nivel_acceso }} - {{ perfil.usuario }}
        </li>
    </ul>

    <div *ngIf="perfilAccesoSeleccionado">
        <h3>{{ editMode ? 'Editar' : 'Crear' }} Perfil de Acceso</h3>
        <form>
            <input [(ngModel)]="perfilAccesoSeleccionado.perf_acc_nivel_acceso" placeholder="Nivel de Acceso" name="nivelAcceso">
            <select [(ngModel)]="perfilAccesoSeleccionado.usuario" name="usuario">
                <option *ngFor="let usuario of usuarios" [value]="usuario.id">{{ usuario.usu_nombre_completo }}</option>
            </select>
            <button type="button" (click)="guardarPerfilAcceso()">Guardar</button>
            <button type="button" *ngIf="perfilAccesoSeleccionado.id" (click)="eliminarPerfilAcceso(perfilAccesoSeleccionado.id)">Eliminar</button>
        </form>
    </div>
</div>
